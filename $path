--
-- PostgreSQL database dump
--

-- Dumped from database version 16.4 (Debian 16.4-1.pgdg110+2)
-- Dumped by pg_dump version 16.4 (Debian 16.4-1.pgdg110+2)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: uuid-ossp; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS "uuid-ossp" WITH SCHEMA public;


--
-- Name: EXTENSION "uuid-ossp"; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION "uuid-ossp" IS 'generate universally unique identifiers (UUIDs)';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: construction_permits; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.construction_permits (
    permit_id character varying(255) NOT NULL,
    city character varying(100),
    postal_code character varying(20),
    units_approved integer,
    date_approved date,
    property_type character varying(50)
);


ALTER TABLE public.construction_permits OWNER TO postgres;

--
-- Name: demographics; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.demographics (
    date date NOT NULL,
    city character varying(100) NOT NULL,
    population integer,
    net_migration integer,
    age_distribution_25_34_perc numeric(5,2),
    avg_disposable_income numeric(12,2)
);


ALTER TABLE public.demographics OWNER TO postgres;

--
-- Name: house_price_index; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.house_price_index (
    date date NOT NULL,
    city character varying(100) NOT NULL,
    index_value numeric(10,2),
    median_price_house numeric(12,2),
    median_price_condo numeric(12,2),
    active_listings_count integer,
    avg_listing_days integer
);


ALTER TABLE public.house_price_index OWNER TO postgres;

--
-- Name: listings_features; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.listings_features (
    listing_id character varying(255) NOT NULL,
    price_per_sqft numeric(12,2),
    property_age integer,
    bedrooms integer,
    bathrooms integer,
    area_sqft integer,
    year_built integer,
    postal_code character varying(20),
    property_type_house boolean,
    property_type_condo boolean,
    property_type_apartment boolean,
    property_type_townhouse boolean
);


ALTER TABLE public.listings_features OWNER TO postgres;

--
-- Name: listings_raw; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.listings_raw (
    listing_id character varying(255) NOT NULL,
    url text,
    date_posted date,
    city character varying(100),
    postal_code character varying(20),
    property_type character varying(50),
    listing_type character varying(10),
    price numeric(12,2),
    bedrooms integer,
    bathrooms integer,
    area_sqft integer,
    year_built integer,
    description text
);


ALTER TABLE public.listings_raw OWNER TO postgres;

--
-- Name: macro_economic_data; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.macro_economic_data (
    date date NOT NULL,
    province character varying(100) NOT NULL,
    unemployment_rate numeric(5,2),
    gdp_growth_rate numeric(5,2),
    prime_lending_rate numeric(5,2),
    housing_starts integer
);


ALTER TABLE public.macro_economic_data OWNER TO postgres;

--
-- Name: model_predictions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.model_predictions (
    run_id uuid NOT NULL,
    model_name text,
    target text,
    horizon_months integer,
    city text,
    property_type text,
    beds integer,
    baths integer,
    sqft_min integer,
    sqft_max integer,
    year_built_min integer,
    year_built_max integer,
    predict_date date,
    yhat numeric,
    yhat_lower numeric,
    yhat_upper numeric,
    features_version text,
    model_artifact_uri text,
    created_at timestamp without time zone
);


ALTER TABLE public.model_predictions OWNER TO postgres;

--
-- Name: news_sentiment; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.news_sentiment (
    date date NOT NULL,
    city character varying(100) NOT NULL,
    sentiment_score numeric(5,2),
    sentiment_label character varying(20)
);


ALTER TABLE public.news_sentiment OWNER TO postgres;

--
-- Name: rent_index; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.rent_index (
    date date NOT NULL,
    city character varying(100) NOT NULL,
    index_value numeric(10,2),
    median_rent_apartment_1br numeric(12,2),
    median_rent_apartment_2br numeric(12,2),
    median_rent_apartment_3br numeric(12,2),
    active_rental_count integer,
    avg_rental_days integer
);


ALTER TABLE public.rent_index OWNER TO postgres;

--
-- Data for Name: construction_permits; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.construction_permits (permit_id, city, postal_code, units_approved, date_approved, property_type) FROM stdin;
PRM-KELOWNA-0001	Kelowna	V1Y 1A1	48	2025-06-15	Apartment
\.


--
-- Data for Name: demographics; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.demographics (date, city, population, net_migration, age_distribution_25_34_perc, avg_disposable_income) FROM stdin;
2025-01-01	Kelowna	157000	2300	16.40	45750.00
\.


--
-- Data for Name: house_price_index; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.house_price_index (date, city, index_value, median_price_house, median_price_condo, active_listings_count, avg_listing_days) FROM stdin;
2025-06-01	Kelowna	243.50	875000.00	515000.00	1220	27
2025-07-01	Kelowna	245.10	885000.00	520000.00	1185	26
\.


--
-- Data for Name: listings_features; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.listings_features (listing_id, price_per_sqft, property_age, bedrooms, bathrooms, area_sqft, year_built, postal_code, property_type_house, property_type_condo, property_type_apartment, property_type_townhouse) FROM stdin;
seed-listing-001	3.36	13	1	1	550	2012	V1Y 1A1	f	f	t	\N
\.


--
-- Data for Name: listings_raw; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.listings_raw (listing_id, url, date_posted, city, postal_code, property_type, listing_type, price, bedrooms, bathrooms, area_sqft, year_built, description) FROM stdin;
seed-listing-001	https://example.com/kelowna/apt-1br-seed	2025-07-02	Kelowna	V1Y 1A1	Apartment	Rental	1850.00	1	1	550	2012	Cozy 1BR in downtown Kelowna
\.


--
-- Data for Name: macro_economic_data; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.macro_economic_data (date, province, unemployment_rate, gdp_growth_rate, prime_lending_rate, housing_starts) FROM stdin;
2025-07-01	British Columbia	5.60	1.40	6.95	3100
\.


--
-- Data for Name: model_predictions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.model_predictions (run_id, model_name, target, horizon_months, city, property_type, beds, baths, sqft_min, sqft_max, year_built_min, year_built_max, predict_date, yhat, yhat_lower, yhat_upper, features_version, model_artifact_uri, created_at) FROM stdin;
0db4cbd8-6e50-4a68-96ca-25701bbe3862	synthetic_v1	price	12	Vancouver	House	3	2	1200	2000	1990	2025	2026-07-01	995000.0000	965000.0000	1025000.0000	feat-v1	synthetic	2025-09-21 20:28:16.175085
26a90aae-311e-4d43-b6f2-398f1ed1c054	synthetic_v1	price	12	Vancouver	House	3	2	1200	2000	1990	2025	2025-10-01	950000.0000	920000.0000	980000.0000	feat-v1	synthetic	2025-09-21 20:28:16.175085
3ac868f8-991a-4bef-b775-fa7e3c832720	synthetic_v1	price	12	Toronto	Condo	2	2	800	1200	2000	2025	2026-07-01	772500.0000	742500.0000	802500.0000	feat-v1	synthetic	2025-09-21 20:28:16.088142
48bb858f-d1c6-4d8f-b217-f8da60f3ce43	synthetic_v1	price	12	Vancouver	House	3	2	1200	2000	1990	2025	2025-11-01	955000.0000	925000.0000	985000.0000	feat-v1	synthetic	2025-09-21 20:28:16.175085
556f2402-79fb-4a57-acec-c4e6cd21658e	synthetic_v1	price	12	Vancouver	House	3	2	1200	2000	1990	2025	2026-02-01	970000.0000	940000.0000	1000000.0000	feat-v1	synthetic	2025-09-21 20:28:16.175085
563a5ef3-3d76-4382-a353-fcfe7b94fa68	synthetic_v1	price	12	Vancouver	House	3	2	1200	2000	1990	2025	2026-01-01	965000.0000	935000.0000	995000.0000	feat-v1	synthetic	2025-09-21 20:28:16.175085
58532770-3178-4f25-93aa-d26cd83cc3ec	synthetic_v1	price	12	Toronto	Condo	2	2	800	1200	2000	2025	2025-10-01	750000.0000	720000.0000	780000.0000	feat-v1	synthetic	2025-09-21 20:28:16.088142
5aa4f85c-70bc-4c95-8beb-ae3611ecc324	synthetic_v1	price	12	Vancouver	House	3	2	1200	2000	1990	2025	2025-12-01	960000.0000	930000.0000	990000.0000	feat-v1	synthetic	2025-09-21 20:28:16.175085
6526e82a-c494-4f35-8376-6bec37a5f287	synthetic_v1	price	12	Toronto	Condo	2	2	800	1200	2000	2025	2026-01-01	757500.0000	727500.0000	787500.0000	feat-v1	synthetic	2025-09-21 20:28:16.088142
803d640d-54ba-44bb-b5f7-2d24318f306b	synthetic_v1	price	12	Toronto	Condo	2	2	800	1200	2000	2025	2026-02-01	760000.0000	730000.0000	790000.0000	feat-v1	synthetic	2025-09-21 20:28:16.088142
875499a9-46aa-497b-9252-227f0a5073a9	synthetic_v1	price	12	Vancouver	House	3	2	1200	2000	1990	2025	2026-05-01	985000.0000	955000.0000	1015000.0000	feat-v1	synthetic	2025-09-21 20:28:16.175085
90bc5944-e6c2-49f0-93b4-55016ce021f6	synthetic_v1	price	12	Toronto	Condo	2	2	800	1200	2000	2025	2026-03-01	762500.0000	732500.0000	792500.0000	feat-v1	synthetic	2025-09-21 20:28:16.088142
a3f54426-bbe8-4f68-8470-7f432dd42955	synthetic_v1	price	12	Toronto	Condo	2	2	800	1200	2000	2025	2026-04-01	765000.0000	735000.0000	795000.0000	feat-v1	synthetic	2025-09-21 20:28:16.088142
c829142d-3053-4548-a9fa-a04611839ce1	synthetic_v1	price	12	Vancouver	House	3	2	1200	2000	1990	2025	2026-06-01	990000.0000	960000.0000	1020000.0000	feat-v1	synthetic	2025-09-21 20:28:16.175085
ce87a873-3661-439b-9406-6a688321f611	synthetic_v1	price	12	Vancouver	House	3	2	1200	2000	1990	2025	2026-04-01	980000.0000	950000.0000	1010000.0000	feat-v1	synthetic	2025-09-21 20:28:16.175085
d1a40a9c-83be-4b0b-9cb4-0caadc61f5d8	synthetic_v1	price	12	Toronto	Condo	2	2	800	1200	2000	2025	2026-06-01	770000.0000	740000.0000	800000.0000	feat-v1	synthetic	2025-09-21 20:28:16.088142
dbe8a15e-7baa-4ce8-8508-44c6c802e457	synthetic_v1	price	12	Toronto	Condo	2	2	800	1200	2000	2025	2025-12-01	755000.0000	725000.0000	785000.0000	feat-v1	synthetic	2025-09-21 20:28:16.088142
edf84f50-e524-4a64-b44a-3864dcd6f101	synthetic_v1	price	12	Toronto	Condo	2	2	800	1200	2000	2025	2026-05-01	767500.0000	737500.0000	797500.0000	feat-v1	synthetic	2025-09-21 20:28:16.088142
f43c28aa-4c25-44b8-bb69-70d97907aef7	synthetic_v1	price	12	Vancouver	House	3	2	1200	2000	1990	2025	2026-03-01	975000.0000	945000.0000	1005000.0000	feat-v1	synthetic	2025-09-21 20:28:16.175085
f68405e1-22a3-4101-b904-9bbdaa368e77	synthetic_v1	price	12	Toronto	Condo	2	2	800	1200	2000	2025	2025-11-01	752500.0000	722500.0000	782500.0000	feat-v1	synthetic	2025-09-21 20:28:16.088142
\.


--
-- Data for Name: news_sentiment; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.news_sentiment (date, city, sentiment_score, sentiment_label) FROM stdin;
2025-07-01	Kelowna	0.12	Neutral
\.


--
-- Data for Name: rent_index; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.rent_index (date, city, index_value, median_rent_apartment_1br, median_rent_apartment_2br, median_rent_apartment_3br, active_rental_count, avg_rental_days) FROM stdin;
2025-07-01	Kelowna	108.20	1850.00	2300.00	2900.00	640	24
\.


--
-- Name: construction_permits construction_permits_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.construction_permits
    ADD CONSTRAINT construction_permits_pkey PRIMARY KEY (permit_id);


--
-- Name: demographics demographics_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.demographics
    ADD CONSTRAINT demographics_pkey PRIMARY KEY (date, city);


--
-- Name: house_price_index house_price_index_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.house_price_index
    ADD CONSTRAINT house_price_index_pkey PRIMARY KEY (date, city);


--
-- Name: listings_features listings_features_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.listings_features
    ADD CONSTRAINT listings_features_pkey PRIMARY KEY (listing_id);


--
-- Name: listings_raw listings_raw_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.listings_raw
    ADD CONSTRAINT listings_raw_pkey PRIMARY KEY (listing_id);


--
-- Name: macro_economic_data macro_economic_data_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.macro_economic_data
    ADD CONSTRAINT macro_economic_data_pkey PRIMARY KEY (date, province);


--
-- Name: model_predictions model_predictions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.model_predictions
    ADD CONSTRAINT model_predictions_pkey PRIMARY KEY (run_id);


--
-- Name: news_sentiment news_sentiment_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.news_sentiment
    ADD CONSTRAINT news_sentiment_pkey PRIMARY KEY (date, city);


--
-- Name: rent_index rent_index_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rent_index
    ADD CONSTRAINT rent_index_pkey PRIMARY KEY (date, city);


--
-- Name: idx_construction_permits_postal_code; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_construction_permits_postal_code ON public.construction_permits USING btree (postal_code);


--
-- Name: idx_listings_raw_geo; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_listings_raw_geo ON public.listings_raw USING btree (city, postal_code);


--
-- Name: listings_features fk_listings_features_listing_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.listings_features
    ADD CONSTRAINT fk_listings_features_listing_id FOREIGN KEY (listing_id) REFERENCES public.listings_raw(listing_id);


--
-- PostgreSQL database dump complete
--

